{% extends 'archile/base.html' %}
{% load static %}
{% block content %}
	<div class="container">
		<div class="col-md-12">
			{% if channels|length|add:0 == 0 and post|length|add:0 == 0 %}
			<div class="row">
				<div class="col-md-12" style="margin-top: 2.5rem;">
				<h4>No Results</h4>
				</div>
			</div>
			{% endif %}

			<table class="table">
			{% for i in channels %}
	    		<tr>
	    			<td style="padding: 20px;"><img class="channel_logo" src="{{i.logo.url}}"></td>
	    			<td style="vertical-align: middle;">
	    				<span style="font-size: 28px;text-decoration: none;color: black;"><a href="{% url 'channel' c_id=i.c_id %}">{{i.name}}</a></span>
	    				<span style="font-size: 14px;color: #aaa;padding-top: -15px;">{{i.no_of_subscriptions}} subscriptions | Created on: {{i.creation_datetime}}</span>
	    				<br>
			    		{{i.description}}
	    			</td>
	    			<td>
	    				{% if i.subs %}
	    				<a href="{% url 'subscribe_channel' c_id=i.c_id %}">
		    				<button type="button" class="btn btn-muted" style="margin-top:1.5rem;">Unsubscribe</button>
		    			</a>
		    			{% else %}
		    			<a href="{% url 'subscribe_channel' c_id=i.c_id %}">
		    				<button type="button" class="btn btn-danger" style="margin-top:1.5rem;">Subscribe</button>
		    			</a>
		    			{% endif %}
	    			</td>
	    		</tr>
		    {% endfor %}
	    	</table>

		    <!-- Code for Posts --->
		    {% for i in posts %}
		    <div class="card">
		    	<div class="card-header">
		    		<span style="font-size: 25px;text-decoration: none;color: black;"><a href="{% url 'post' p_id=i.p_id %}" style="text-decoration: none;color: black;">{{i.title}}</a></span>
		    		<span style="margin-left: 20px;"><i class="far fa-thumbs-up"></i> {{i.no_of_likes}}</span>
		    		<span style="margin-left: 20px;"><i class="far fa-thumbs-down"></i> {{i.no_of_dislikes}}</span>
		    		<span style="margin-left: 20px;"><i class="far fa-file-alt"></i> {{i.no_of_files}}</span>
		    		<span style="float: right;margin-top: 5px;"> Channel Name</span>
		    	</div>
				<div class="card-body">
	    			{{i.description}}
		    	</div>
		    </div>
		    <br>
		    {% endfor %}
		</div>
	</div>
	
{% endblock %}