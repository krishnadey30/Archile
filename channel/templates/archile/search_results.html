{% extends 'archile/base.html' %}
{% load static %}
{% block content %}
	<div class="container">
		<div class="col-md-12 search_results">
			{% if channels|length|add:0 == 0 and posts|length|add:0 == 0 %}
			<div class="row">
				<div class="col-md-12" style="margin-top: 2.5rem;">
				<h4>No Results</h4>
				</div>
			</div>
			{% endif %}
			{% for i in channels %}
		    <div class="row">
		    	<div class="col-md-2">
		    		<img class="channel_logo" src="{{i.logo.url}}">
		    	</div>
		    	
		    	<div class="col-md-7" style="margin-top: 2.5rem;">
		    		<h3><a href="{% url 'channel' c_id=i.c_id %}" style="text-decoration: none;color: black;">{{i.name}}</a></h3></center>
		    		<div class="channel_des">
		    			Subscriptions: {{i.no_of_subscriptions}}
		    			<br>
		    			{{i.description}}
		    		</div>
		    	</div>
		    	<div class="col-md-3" style="margin-top: 2.5rem;">
		    		<div class="row" style="text-align: center;margin-top: 2rem;">
		    			<div class="col-md-8">
		    				{% if i.subs %}
		    				<a href="{% url 'subscribe_channel' c_id=i.c_id %}" style="text-decoration: none;color: black;">
			    				<button type="button" class="btn btn-danger">Unsubscribe</button>
			    			</a>
			    			{% else %}
			    			<a href="{% url 'subscribe_channel' c_id=i.c_id %}" style="text-decoration: none;color: black;">
			    				<button type="button" class="btn btn-danger">Subscribe</button>
			    			</a>
			    			{% endif %}
		    			</div>
		    		</div>
		    	</div>
		    </div>
		    <hr>
		    {% endfor %}
		    {% if channels.has_other_pages %}
		    <nav aria-label="Page navigation example">
			  <ul class="pagination">
			    {% if channels.has_previous %}
			      <li class="page-item">
			      	<a href="?page={{ channels.previous_page_number }}&search_query={{query}}&search_type=Channel" class="page-link" aria-label="Previous">
				      	<span aria-hidden="true">&laquo;</span>
				        <span class="sr-only">Previous</span>
				     </a>
				   </li>
			    {% else %}
			      <li class="page-item disabled">
				      <a class="page-link" href="#" tabindex="-1">Previous</a>
				   </li>
			    {% endif %}
			    {% for i in channels.paginator.page_range %}
			      {% if channels.number == i %}
			      	<li class="page-item active">
				      <a class="page-link" href="#">{{ i }} <span class="sr-only">(current)</span></span></a>
				    </li>
			      {% else %}
			      	<li class="page-item"><a class="page-link" href="?page={{ i }}&search_query={{query}}&search_type=Channel">{{ i }}</a></li>
			        
			      {% endif %}
			    {% endfor %}
			    {% if channels.has_next %}
			    	<li class="page-item">
			      	<a  href="?page={{ channels.next_page_number }}&search_query={{query}}&search_type=Channel" class="page-link" aria-label="Previous">
				      	<span aria-hidden="true">&raquo;</span>
				        <span class="sr-only">Next</span>
				     </a>
				   </li>
			    {% else %}
			     <li class="page-item disabled">
				      <a class="page-link" href="#" tabindex="-1">Next</a>
				  </li>
			    {% endif %}
			  </ul>
			{% endif %}
		    {% for i in posts %}
		    <div class="row">
		    	<div class="col-md-2">
		    		<img class="post_image" src="http://rs775.pbsrc.com/albums/yy35/PhoenyxStar/link-1.jpg~c200">
		    	</div>
		    	<div class="col-md-7" style="margin-top: 2.5rem;">
		    		<h3><a href="{% url 'post' p_id=i.p_id %}" style="text-decoration: none;color: black;">{{i.title}}</a></h3></center>
		    		<div class="channel_des">
		    			{{i.description}}
		    		</div>
		    	</div>
		    </div>
		    <hr>
		    {% endfor %}
		    {% if posts.has_other_pages %}
		    <nav aria-label="Page navigation example">
			  <ul class="pagination">
			    {% if posts.has_previous %}
			      <li class="page-item">
			      	<a href="?page={{ posts.previous_page_number }}&search_query={{query}}&search_type=Post" class="page-link" aria-label="Previous">
				      	<span aria-hidden="true">&laquo;</span>
				        <span class="sr-only">Previous</span>
				     </a>
				   </li>
			    {% else %}
			      <li class="page-item disabled">
				      <a class="page-link" href="#" tabindex="-1">Previous</a>
				   </li>
			    {% endif %}
			    {% for i in posts.paginator.page_range %}
			      {% if posts.number == i %}
			      	<li class="page-item active">
				      <a class="page-link" href="#">{{ i }} <span class="sr-only">(current)</span></span></a>
				    </li>
			      {% else %}
			      	<li class="page-item"><a class="page-link" href="?page={{ i }}&search_query={{query}}&search_type=Post">{{ i }}</a></li>
			        
			      {% endif %}
			    {% endfor %}
			    {% if channels.has_next %}
			    	<li class="page-item">
			      	<a  href="?page={{ posts.next_page_number }}&search_query={{query}}&search_type=Post" class="page-link" aria-label="Previous">
				      	<span aria-hidden="true">&raquo;</span>
				        <span class="sr-only">Next</span>
				     </a>
				   </li>
			    {% else %}
			     <li class="page-item disabled">
				      <a class="page-link" href="#" tabindex="-1">Next</a>
				  </li>
			    {% endif %}
			  </ul>
			{% endif %}
		</div>
	</div>
	
{% endblock %}